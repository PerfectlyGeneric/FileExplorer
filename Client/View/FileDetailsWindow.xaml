<Window x:Class="AplicationUI.View.FileDetailsWindow" 
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding File.Name, StringFormat='Editing {0}'}" 
        Height="450" Width="600"
        WindowStartupLocation="CenterOwner" 
        ShowInTaskbar="False" 
        WindowStyle="ToolWindow"
        ResizeMode="NoResize"
        Background="{DynamicResource {x:Static SystemColors.ControlBrushKey}}">

    <Grid Margin="15">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0" Margin="0,0,15,0" HorizontalAlignment="Center" VerticalAlignment="Top">

            <Border BorderBrush="LightGray" 
                    BorderThickness="1" 
                    CornerRadius="5" 
                    Width="120" Height="120" 
                    Background="White"
                    Margin="0,10,0,10">
                <Image Source="{Binding File.Icon}" 
                       Width="64" 
                       Height="64" 
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Center"/>
            </Border>

            <TextBlock Text="{Binding File.Name}" 
                       FontWeight="Bold" 
                       TextAlignment="Center" 
                       TextWrapping="Wrap"
                       Margin="0,5,0,0"/>

            <TextBlock Text="{Binding File.Path}" 
                       FontSize="10" 
                       Foreground="Gray" 
                       TextAlignment="Center" 
                       TextWrapping="Wrap"
                       Margin="0,3,0,0"/>
        </StackPanel>

        <StackPanel Grid.Column="1" VerticalAlignment="Stretch">

            <TextBlock Text="Your Tags" 
                       FontWeight="SemiBold" 
                       Margin="0,0,0,5"/>
            <TextBox Text="{Binding YourTags, UpdateSourceTrigger=PropertyChanged}" 
                     Height="30" 
                     Margin="0,0,0,15"/>

            <TextBlock Text="AI Suggested Tags" 
                       FontWeight="SemiBold" 
                       Margin="0,0,0,5"/>
            <TextBox Text="{Binding SuggestedTags}" 
                     IsReadOnly="True" 
                     Background="#F0F0F0" 
                     Height="30" 
                     Margin="0,0,0,15"/>

            <TextBlock Text="Notes" 
                       FontWeight="SemiBold" 
                       Margin="0,0,0,5"/>
            <TextBox Text="{Binding Notes, UpdateSourceTrigger=PropertyChanged}"
                     AcceptsReturn="True" 
                     VerticalScrollBarVisibility="Auto" 
                     TextWrapping="Wrap"
                     Height="120"
                     Margin="0,0,0,15"/>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Save" Width="80" Margin="0,0,10,0"
                        Command="{Binding SaveCommand}"
                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>
                <Button Content="Close" Width="80" Click="CloseButton_Click" IsCancel="True"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>